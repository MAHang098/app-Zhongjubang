(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/topicDetails/topicDetails"],{"0930":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.topicList,function(e,o){var n=t._f("ellipsis")(e.content);return{$orig:t.__get_orig(e),f0:n}}));t.$mp.data=Object.assign({},{$root:{l0:o}})},a=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return a})},"1b18":function(t,e,o){"use strict";o.r(e);var n=o("d4d5"),a=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"2df4":function(t,e,o){"use strict";var n=o("6a07"),a=o.n(n);a.a},"6a07":function(t,e,o){},"703c":function(t,e,o){"use strict";o.r(e);var n=o("0930"),a=o("1b18");for(var s in a)"default"!==s&&function(t){o.d(e,t,function(){return a[t]})}(s);o("2df4");var i=o("2877"),c=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=c.exports},d4d5:function(t,e,o){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"0aab"))},s={components:{uniPopup:a},data:function(){return{isFoucs:!1,talkThemeState:0,replySay:"说点什么吧...",topic:"我家阳台收纳神器",brandFold:!1,isShowAllContent:!0,show:!0,talkThemeNum:0,participateCount:0,talkThemeRemarks:"",scrollFlag:!1,content:"",topicList:[],activeIndex:-1,fabulousIndex:-1,isShowFocus:!1,isShowFabulous:!1,isShowCollect:!1,topicId:"",popupShow:!1,popupType:"",inputValue:"",outUserId:"",gcircleContentId:"",nickName:"",gCollectionDiscussNum:"",dataList:[],recommendId:"",recommendName:"",getsvdiscussId:"",isShowTopic:!0}},filters:{ellipsis:function(t){return t?t.length>45?t.slice(0,45)+"...":t:""}},mounted:function(){},onLoad:function(t){"topic"==t.type&&(this.isShowTopic=!1),this.topicId=t.id,this.init(t.id)},onPageScroll:function(t){var e=this;t.scrollTop>50?e.scrollFlag=!0:e.scrollFlag=!1},methods:{testreply:function(e,o){console.log(t(e,o," at pages/topicDetails/topicDetails.vue:212")),this.recommendId=e,this.recommendName=o,this.replySay="回复"+o+":"},recordName:function(e){var o;this.inputValue=e.detail.value;var a=this;n.getStorage({key:"token",success:function(t){o=t.data}});var s=this.url;""!=this.recommendId?n.request({url:s+"controller/usercontroller/addanswergcirclecontentdiscuss",data:{outUserId:a.outUserId,id:a.recommendId,outUserName:a.recommendName,gcircleContentDiscuss:e.detail.value},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:o},success:function(e){console.log(t(e," at pages/topicDetails/topicDetails.vue:245")),200==e.data.code||console.log(t("请求异常"," at pages/topicDetails/topicDetails.vue:249"))}}):n.request({url:s+"controller/usercontroller/addgcirclecontentdiscuss",data:{outUserId:a.outUserId,gcircleContentId:a.gcircleContentId,outUserName:a.nickName,gcircleContentDiscuss:e.detail.value},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:o},success:function(e){console.log(t(e," at pages/topicDetails/topicDetails.vue:269")),200==e.data.code||console.log(t("请求异常"," at pages/topicDetails/topicDetails.vue:273"))}})},reply:function(e){console.log(t(e," at pages/topicDetails/topicDetails.vue:281")),n.navigateTo({url:"/pages/ganswer/ganswer?Id="+e})},focusTopic:function(){var t=this,e="";n.getStorage({key:"token",success:function(t){e=t.data}}),n.request({url:this.url+"controller/contentcontroller/addtalkthemeuser",method:"post",data:{talkThemeId:this.topicId},header:{"content-type":"application/x-www-form-urlencoded",token:e,port:"app"},success:function(e){n.hideLoading(),200==e.data.code?t.init(t.topicId):(n.showToast({icon:"none",title:e.data.message}),n.hideToast())}})},init:function(t){var e=this;n.showLoading({title:"加载中",mask:!0});var o="";n.getStorage({key:"token",success:function(t){o=t.data}});var a={talkThemeId:t,pageIndex:1,pageSize:1e3};n.request({url:this.url+"controller/contentcontroller/getgcriclecontentlistbytalkthemeid",method:"post",data:a,header:{"content-type":"application/x-www-form-urlencoded",token:o,port:"app"},success:function(t){if(n.hideLoading(),200==t.data.code){var o=t.data.data.dataList[0];if(e.topic=o.talkTheme,e.talkThemeNum=o.talkThemeNum,e.participateCount=o.participateCount,e.topicList=o.allGContentList,e.talkThemeState=o.talkThemeState,null==o.talkThemeRemarks)return void(e.talkThemeRemarks=" ");e.talkThemeRemarks=o.talkThemeRemarks}else n.showToast({icon:"none",title:t.data.message}),n.hideToast()}})},open:function(t){this.activeIndex=t,this.isShowAllContent=!this.isShowAllContent,this.brandFold=!this.brandFold},focus:function(t,e,o){var a=this,s="";n.getStorage({key:"token",success:function(t){s=t.data}}),n.request({url:this.url+"controller/usercontroller/addattentionrelationship",method:"post",data:{outUserId:e},header:{"content-type":"application/x-www-form-urlencoded",token:s,port:"app"},success:function(e){if(200==e.data.code){if(a.init(a.topicId),a.activeIndex=t,1==o)return void(a.isShowFocus=!1);a.isShowFocus=!a.isShowFocus}else n.showToast({icon:"none",title:e.data.message}),n.hideToast()}})},collect:function(t,e,o){var a=this,s="";n.getStorage({key:"token",success:function(t){s=t.data}}),n.request({url:this.url+"controller/usercontroller/addusercollection",method:"post",data:{collectionContentId:e,type:"1"},header:{"content-type":"application/x-www-form-urlencoded",token:s,port:"app"},success:function(e){if(200==e.data.code){if(a.init(a.topicId),a.activeIndex=t,1==o)return void(a.isShowCollect=!1);a.isShowCollect=!a.isShowCollect}else n.showToast({icon:"none",title:e.data.message}),n.hideToast()}})},fabulous:function(t,e,o){var a=this,s="";n.getStorage({key:"token",success:function(t){s=t.data}}),n.request({url:this.url+"controller/usercontroller/addgcirclecontentlike",method:"post",data:{gcircleContentId:e},header:{"content-type":"application/x-www-form-urlencoded",token:s,port:"app"},success:function(e){if(200==e.data.code){if(a.init(a.topicId),a.fabulousIndex=t,1==o)return void(a.isShowFabulous=!1);a.isShowFabulous=!a.isShowFabulous}else n.showToast({icon:"none",title:e.data.message}),n.hideToast()}})},goRelease:function(){var t={topic:this.topic,topicId:this.topicId};this.$store.commit("updateType",t),n.navigateTo({url:"/pages/releaseImage/release-image/release-image"})},commentsFabulous:function(t,e,o){var a=this,s="";n.getStorage({key:"token",success:function(t){s=t.data}}),n.request({url:this.url+"controller/usercontroller/adddiscusslike",method:"post",data:{discussId:e,type:"1"},header:{"content-type":"application/x-www-form-urlencoded",token:s,port:"app"},success:function(e){if(200==e.data.code){if(a.activeIndex=t,a.comments(a.getsvdiscussId),1==o)return void(a.isCommentsFabulous=!1);a.isCommentsFabulous=!a.isCommentsFabulous}else n.showToast({icon:"none",title:e.data.message}),n.hideToast()}})},comments:function(t){var e=this,o="";n.getStorage({key:"token",success:function(t){o=t.data}});var a={id:t,pageIndex:1,pageSize:1e4};n.request({url:e.url+"controller/usercontroller/getgcdiscusslist",data:a,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:o},success:function(t){200==t.data.code?e.dataList=t.data.data.dataList:(n.showToast({icon:"none",title:t.data.message}),n.hideToast())}})},togglePopup:function(t,e,o,n,a,s){switch(this.getsvdiscussId=n,this.outUserId=o,this.gcircleContentId=n,this.gCollectionDiscussNum=s,this.nickName=a,t){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.popupType=t,"tip"===e?this.popupShow=!0:this.$refs[e].open(),this.comments(n)},cancelPopup:function(t){this.$refs[t].close()},cancel:function(){n.navigateBack()}}};e.default=s}).call(this,o("0de9")["default"],o("6e42")["default"])},d819:function(t,e,o){"use strict";(function(t){o("0497"),o("921b");n(o("66fd"));var e=n(o("703c"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])}},[["d819","common/runtime","common/vendor"]]]);