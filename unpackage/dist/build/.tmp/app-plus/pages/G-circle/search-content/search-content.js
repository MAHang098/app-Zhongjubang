(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/G-circle/search-content/search-content"],{"29f8":function(t,e,s){"use strict";s.r(e);var i=s("cafb"),n=s("e564");for(var o in n)"default"!==o&&function(t){s.d(e,t,function(){return n[t]})}(o);s("f14e");var a=s("2877"),r=Object(a["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},"5ca2":function(t,e,s){},"6a62":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){return s.e("components/uni-popup/uni-popup").then(s.bind(null,"73b7"))},n={components:{uniPopup:i},data:function(){return{show:!1,type:"",isShowList:!0,historyList:[],productList:[],token:"",searchInput:"",searchAll:[],hotList:[]}},onShow:function(){var e=this;t.getStorage({key:"token",success:function(t){e.token=t.data}});var s=this;t.getStorage({key:"searchAll_key",success:function(t){s.historyList=t.data.reverse()}}),this.hotInit()},methods:{hotInit:function(){var e=this;t.request({url:this.url+"controller/shopcontroller/getHotTalkThemeList",method:"post",data:{pageIndex:1,pageSize:20},header:{"content-type":"application/x-www-form-urlencoded",token:this.token,port:"app"},success:function(s){200==s.data.code&&(e.hotList=s.data.data.dataList),421==s.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"})}})},clearTimer:function(){this.timer&&clearTimeout(this.timer)},gainInput:function(e){var s=this;this.clearTimer(),t.request({url:this.url+"controller/usercontroller/getSearchCompletion",method:"post",data:{search:e.detail.value},header:{"content-type":"application/x-www-form-urlencoded",token:this.token,port:"app"},success:function(e){200==e.data.code&&(s.changeColor(e.data.data),s.isShowList=!1),421==e.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"})}})},changeColor:function(t){var e=this;t.map(function(s,i){if(e.searchInput&&e.searchInput.length>0){var n=new RegExp(e.searchInput,"g"),o='<span class="search-text" style="color: #F9B72C">'+e.searchInput+"</span>";t[i].resourcesValue=s.resourcesValue.replace(n,o)}}),this.productList=[],this.productList=t},searchContents:function(e){if(t.navigateTo({url:"/pages/G-circle/search-list/search-list?name="+e}),this.historyList.length>0)for(var s=0;s<this.historyList.length;s++)if(this.historyList[s]==e)return;this.historyList.unshift(e),this.historyList.length>10&&this.historyList.pop(),t.setStorage({key:"searchAll_key",data:this.historyList,success:function(){}})},searchContent:function(e){if(null!=e&&""!=e){var s=/[\u4e00-\u9fa5]/g;e=e.match(s).join("")}if(t.navigateTo({url:"/pages/G-circle/search-list/search-list?name="+e}),this.isShowList=!this.isShowList,this.historyList.length>0)for(var i=0;i<this.historyList.length;i++)if(this.historyList[i]==e)return;this.historyList.unshift(e),this.historyList.length>10&&this.historyList.pop(),t.setStorage({key:"searchAll_key",data:this.historyList,success:function(){}})},hotTopic:function(e){t.navigateTo({url:"/pages/topicDetails/topicDetails?id="+e})},onFocus:function(){this.$mp.page.$getAppWebview().setStyle({softinputNavBar:"none"})},onBlur:function(){this.$mp.page.$getAppWebview().setStyle({softinputNavBar:"auto"})},togglePopup:function(t,e,s){switch(this.deleteId=s,t){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=t,"tip"===e?this.show=!0:this.$refs[e].open()},cancel:function(e){var s=this;"tip"!==e?"skip"===e&&t.removeStorage({key:"searchAll_key",success:function(e){s.historyList=[],s.searchInput="",t.showToast({title:"删除成功"}),s.show=!1}}):this.show=!1},cancelBack:function(){t.switchTab({url:"/pages/juquan/juquan"})}}};e.default=n}).call(this,s("6e42")["default"])},cafb:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},n=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})},e564:function(t,e,s){"use strict";s.r(e);var i=s("6a62"),n=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},e8f4:function(t,e,s){"use strict";(function(t){s("19df"),s("921b");i(s("66fd"));var e=i(s("29f8"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,s("6e42")["createPage"])},f14e:function(t,e,s){"use strict";var i=s("5ca2"),n=s.n(i);n.a}},[["e8f4","common/runtime","common/vendor"]]]);