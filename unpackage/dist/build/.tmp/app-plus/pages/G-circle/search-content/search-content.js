(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/G-circle/search-content/search-content"],{"149e":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o})},"449f":function(t,e,n){"use strict";n.r(e);var s=n("e308"),o=n.n(s);for(var i in s)"default"!==i&&function(t){n.d(e,t,function(){return s[t]})}(i);e["default"]=o.a},a4a2:function(t,e,n){},ac6b:function(t,e,n){"use strict";(function(t){n("0497"),n("921b");s(n("66fd"));var e=s(n("ed0b"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},b836:function(t,e,n){"use strict";var s=n("a4a2"),o=n.n(s);o.a},e308:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"0aab"))},o={components:{uniPopup:s},data:function(){return{show:!1,type:"",isShowList:!0,historyList:[],productList:[],token:"",searchInput:"",searchAll:[]}},onShow:function(){var e=this;t.getStorage({key:"token",success:function(t){e.token=t.data}});var n=this;t.getStorage({key:"searchAll_key",success:function(t){n.historyList=t.data.reverse()}})},methods:{clearTimer:function(){this.timer&&clearTimeout(this.timer)},gainInput:function(e){var n=this;this.clearTimer(),this.timer=setTimeout(function(){t.request({url:n.url+"controller/usercontroller/getSearchCompletion",method:"post",data:{search:e.detail.value},header:{"content-type":"application/x-www-form-urlencoded",token:n.token,port:"app"},success:function(e){421==e.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"}),200==e.data.code&&(n.changeColor(e.data.data),n.isShowList=!n.isShowList),421==e.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"})}})},500)},changeColor:function(t){var e=this;t.map(function(n,s){if(e.searchInput&&e.searchInput.length>0){var o=new RegExp(e.searchInput,"g"),i='<span class="search-text" style="color: #F9B72C">'+e.searchInput+"</span>";t[s].resourcesValue=n.resourcesValue.replace(o,i)}}),this.productList=[],this.productList=t},searchContent:function(e){if(null!=e&&""!=e){var n=/[\u4e00-\u9fa5]/g;e=e.match(n).join("")}if(t.navigateTo({url:"/pages/G-circle/search-list/search-list?name="+e}),this.isShowList=!this.isShowList,this.historyList.length>0)for(var s=0;s<this.historyList.length;s++)if(this.historyList[s]==e)return;this.historyList.unshift(e),this.historyList.length>10&&this.historyList.pop(),t.setStorage({key:"searchAll_key",data:this.historyList,success:function(){}})},delHistory:function(){},onFocus:function(){this.$mp.page.$getAppWebview().setStyle({softinputNavBar:"none"})},onBlur:function(){this.$mp.page.$getAppWebview().setStyle({softinputNavBar:"auto"})},togglePopup:function(t,e,n){switch(this.deleteId=n,t){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=t,"tip"===e?this.show=!0:this.$refs[e].open()},cancel:function(e){var n=this;"tip"!==e?"skip"===e&&t.removeStorage({key:"searchAll_key",success:function(e){n.historyList=[],n.searchInput="",t.showToast({title:"删除成功"}),n.show=!1}}):this.show=!1},cancelBack:function(){t.switchTab({url:"/pages/juquan/juquan"})}}};e.default=o}).call(this,n("6e42")["default"])},ed0b:function(t,e,n){"use strict";n.r(e);var s=n("149e"),o=n("449f");for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);n("b836");var a=n("2877"),r=Object(a["a"])(o["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports}},[["ac6b","common/runtime","common/vendor"]]]);