(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/juquan/juquan"],{"0b3f":function(t,e,o){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{reload:!1,status:"more",contentText:{contentdown:"上拉加载更多",contentnomore:"没有更多"},page:1,tabType:["居圈","关注","短视频"],current:0,cIndex:-1,activeIndex:-1,show:!0,token:"",isShow:!0,brandFold:!1,isShowAllContent:!0,showEdit:!1,draftsList:[],imageDrafts:[],content:"某臣氏骑剑活动！水雾质地 很轻薄 不沾黏！在上待几分钟会变成雾面哑光感某臣氏骑剑活动！水雾质地 很轻薄 不沾黏！在上待几分钟会变成雾面哑光感 超高级！显色很持久...不沾黏！在上待几分钟会变成雾面哑光感 超高级！显色很持久...",userList:[],isScrollbar:!1,releaseImgList:[],fabulousIndex:-1,isShowFabulous:!1,isShowCollect:!1,isShowFocus:!1,recommendList:[],userListContent:[],currentPage:0,collect_currentIndex:-1,fabulous_currentIndex:-1,attention_currentIndex:-1,mutual_currentIndex:-1,click_index:0,isShow_attention:!1,isShow_current:!1}},filters:{ellipsis:function(t){return t?t.length>45?t.slice(0,45)+"...":t:""}},onLoad:function(){var e=this;t.getStorage({key:"token",success:function(t){e.token=t.data}}),this.current=0,this.isShow=!0,this.page=1,this.releaseImgList=[],this.init(),this.recommend()},onHide:function(){var t=this;t.click_index=0},onShow:function(){},onReachBottom:function(){this.page++,this.init()},onTabItemTap:function(){var e=this;e.click_index++,e.click_index>1&&(this.page=1,t.pageScrollTo({scrollTop:0,duration:0}),this.init())},methods:{goOtheruser:function(e){t.navigateTo({url:"/pages/otherUser/otherUser?userid="+e})},recommend:function(){var e=this;t.request({url:this.url+"/public/public/getGcircleListbyresourcestype",data:{resourcesTypeName:"app_top_list"},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:this.token},success:function(o){if(t.hideLoading(),200==o.data.code){var n=o.data.data;e.recommendList=n}}})},init:function(){var e=this,o={pageIndex:this.page,pageSize:10};t.showLoading({title:"加载中...",mask:!0}),t.request({url:this.url+"/controller/contentcontroller/getallgcirclecontentlist",data:o,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:this.token},success:function(o){t.hideLoading();var n=o.data.data.pageSize*o.data.data.totalPage;if(e.releaseImgList.length!=n){if(200==o.data.code){for(var i=o.data.data.dataList,a=0;a<i.length;a++)i[a].imgList=JSON.parse(i[a].imgList),i[a].title=JSON.parse(i[a].title);if(e.releaseImgList=e.reload?i:e.releaseImgList.concat(i),o.data.data.totalPage<2)return}421==o.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"})}else e.status="end"},fail:function(o){e.isShowCollect=!1,e.isShow_attention=!1,e.isShow_current=!1,e.isShowFabulous=!1,t.showToast({title:"加载失败",icon:"none"})}})},focusUser:function(){var e=this;t.showLoading({title:"加载中",mask:!0}),t.request({url:this.url+"controller/usercontroller/getRecommendUserList",method:"post",header:{"content-type":"application/x-www-form-urlencoded",token:this.token,port:"app"},success:function(o){t.hideLoading(),200==o.data.code&&(e.userList=o.data.data)}})},refreshUser:function(){this.focusUser()},focusUserContent:function(){var e=this;t.showLoading({title:"加载中...",mask:!0}),t.request({url:this.url+"controller/contentcontroller/getGcircleContentListByAttention",method:"post",data:{pageSize:100,pageIndex:1},header:{"content-type":"application/x-www-form-urlencoded",token:this.token,port:"app"},success:function(o){if(t.hideLoading(),200==o.data.code){for(var n=o.data.data.dataList,i=0;i<n.length;i++)n[i].imgList=JSON.parse(n[i].imgList),n[i].title=JSON.parse(n[i].title);e.releaseImgList=n}}})},focus:function(t,e,n,i){console.log(o(n," at pages\\juquan\\juquan.vue:370"))},collect:function(e,o,n,i,a){var s=this;t.showLoading({title:"加载中"}),t.request({url:this.url+"controller/usercontroller/addusercollection",method:"post",data:{collectionContentId:o,type:"1"},header:{"content-type":"application/x-www-form-urlencoded",token:this.token,port:"app"},success:function(o){421==o.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"}),200==o.data.code?(t.hideLoading(),s.activeIndex=e,s.collect_currentIndex=e,s.isShowCollect=!s.isShowCollect,1==n?(s.isShowCollect=!1,a.collectionState=0):(s.isShowCollect=!0,a.collectionState=1),0==s.isShowCollect?a.collectionNum--:a.collectionNum++):t.showToast({title:"网络异常",icon:"none"})}})},fabulous:function(e,o,n,i,a){var s=this;t.showLoading({title:"加载中"}),t.request({url:this.url+"controller/usercontroller/addgcirclecontentlike",method:"post",data:{gcircleContentId:o},header:{"content-type":"application/x-www-form-urlencoded",token:this.token,port:"app"},success:function(o){421==o.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"}),200==o.data.code?(t.hideLoading(),s.isShowFabulous=!s.isShowFabulous,s.fabulous_currentIndex=e,1==n?(s.isShowFabulous=!1,a.gcircleContentLikeState=0):(s.isShowFabulous=!0,a.gcircleContentLikeState=1),0==s.isShowFabulous?a.gcircleContentLikeNum--:a.gcircleContentLikeNum++):t.showToast({title:"网络异常",icon:"none"})}})},previewImage:function(e,o){this.$store.commit("saveImage",o);var n=e+1;t.navigateTo({url:"/pages/previewImage/previewImage?current="+e+"&indexImg="+n})},contentDetail:function(e){t.navigateTo({url:"/pages/releaseImage-details/releaseImage-details?id="+e})},changeProduct:function(e){this.current=e,console.log(o(e," at pages\\juquan\\juquan.vue:551")),2==e&&t.navigateTo({url:"/pages/juquanVideo/juquanVideo"}),1==e&&(this.focusUser(),this.focusUserContent()),0==e&&this.init(),this.isShow=!this.isShow},open:function(t){this.activeIndex=t,this.isShowAllContent=!this.isShowAllContent,this.brandFold=!this.brandFold},operate:function(t){this.cIndex=t,this.showEdit=!this.showEdit},gainInput:function(t){""!=t.detail.value?(this.searchInput=t.detail.value,this.isShowAdd=!0):this.isShowAdd=!1},onFocus:function(){this.$mp.page.$getAppWebview().setStyle({softinputNavBar:"none"})},onBlur:function(){this.$mp.page.$getAppWebview().setStyle({softinputNavBar:"auto"})},goSearch:function(){t.navigateTo({url:"/pages/G-circle/search-content/search-content"})},editRelease:function(e,o){this.$store.commit("saveImage",e.imgList);var n={editId:o,title:e.title,content:e.content,type:"juquan"};this.$store.commit("saveDrafts",n),this.$store.commit("updateType",e.title),t.navigateTo({url:"/pages/releaseImage/release-image/release-image"}),this.showEdit=!this.showEdit},deleteRelease:function(e){var o=this;t.request({url:this.url+"/controller/usercontroller/delgcirclecontent",data:{circlecontentId:e},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:this.token},success:function(e){200==e.data.code&&(t.showToast({title:"删除成功",duration:500}),o.showEdit=!o.showEdit,o.init()),421==e.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"})}})},homologousPage:function(e,o){0!=e?1!=e?2==e&&t.navigateTo({url:"/pages/topicDetails/topicDetails?id="+o}):t.navigateTo({url:"/pages/index2/index2?id="+o}):t.navigateTo({url:"/pages/topicDetails/topicDetails?id="+o})},goTopic:function(e){t.navigateTo({url:"/pages/topicDetails/topicDetails?id="+e})},category:function(){t.navigateTo({url:"/pages/releaseImage/search-title/search-title?type=Gcircle"})}}};e.default=n}).call(this,o("6e42")["default"],o("0de9")["default"])},"1a01":function(t,e,o){"use strict";(function(t){o("19df"),o("921b");n(o("66fd"));var e=n(o("cf07"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},"5f9d":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.releaseImgList,function(e,o){var n=t._f("ellipsis")(e.content);return{$orig:t.__get_orig(e),f0:n}}));t.$mp.data=Object.assign({},{$root:{l0:o}})},i=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return i})},ae62:function(t,e,o){"use strict";var n=o("fb66"),i=o.n(n);i.a},b9e0:function(t,e,o){"use strict";o.r(e);var n=o("0b3f"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,function(){return n[t]})}(a);e["default"]=i.a},cf07:function(t,e,o){"use strict";o.r(e);var n=o("5f9d"),i=o("b9e0");for(var a in i)"default"!==a&&function(t){o.d(e,t,function(){return i[t]})}(a);o("ae62");var s=o("2877"),c=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"24ac440a",null);e["default"]=c.exports},fb66:function(t,e,o){}},[["1a01","common/runtime","common/vendor"]]]);