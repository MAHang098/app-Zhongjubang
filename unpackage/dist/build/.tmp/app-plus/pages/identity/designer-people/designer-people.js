(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/identity/designer-people/designer-people"],{"65d7":function(e,i,t){"use strict";(function(e,t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{tabType:["量房","平面图","立体图","效果图"],checked:!1,identifyOffice:"",identifyBack:"",homeImage:"",designdarenName:"",serviceAddress:"",priceMin:"",provideService:"",worksUrl:"",address:"",videoUrl:"",current:0,showVideo:!1,imgList:[],specialityStyle:"",isUpload:!0,email:""}},methods:{changeProduct:function(i){console.log(e(i," at pages\\identity\\designer-people\\designer-people.vue:137")),this.current=i},designdarenNameInput:function(e){this.designdarenName=e.detail.value},phoneInput:function(e){this.phone=e.detail.value},emailInput:function(e){this.email=e.detail.value},serviceAddressInput:function(e){this.serviceAddress=e.detail.value},priceMinInput:function(e){this.priceMin=e.detail.value},priceMaxInput:function(e){this.priceMax=e.detail.value},provideServiceInput:function(e){this.provideService=e.detail.value},worksUrlInput:function(e){this.worksUrl=e.detail.value},specialityStyleInput:function(e){this.specialityStyle=e.detail.value},change:function(){this.checked=!this.checked},deleteImage:function(e,i){this.imgList.forEach(function(t,n,a){t.fileName==e&&i==n&&a.splice(i,1)}),this.isUpload=!0,this.$store.commit("saveImage",this.imgList)},chooseImage:function(){var i=this.$store.state.uploadImage;if(i.length>8)this.isUpload=!1;else{var n=this;t.chooseImage({count:9,sourceType:["album"],success:function(i){var a=i.tempFilePaths;for(var s in a)t.uploadFile({url:n.url+"/upload",filePath:a[s],name:"file",formData:{},success:function(i){var t=JSON.parse(i.data);console.log(e(t," at pages\\identity\\designer-people\\designer-people.vue:206"));var a={fileUrl:t.data.fileUrl};n.imgList.push(a),n.showVideo=!0}})}})}},chooseImageOffice:function(){var i=this;t.chooseImage({count:9,sourceType:["album"],success:function(n){n.tempFilePaths[0];console.log(e(n.tempFilePaths[0]," at pages\\identity\\designer-people\\designer-people.vue:229")),t.uploadFile({url:i.url+"/upload",filePath:n.tempFilePaths[0],name:"file",formData:{user:"test"},success:function(t){var n=JSON.parse(t.data);console.log(e(n.data.fileUrl," at pages\\identity\\designer-people\\designer-people.vue:239")),i.identifyOffice=n.data.fileUrl}})}})},chooseImageBack:function(){var i=this;t.chooseImage({count:9,sourceType:["album"],success:function(n){n.tempFilePaths[0];console.log(e(n.tempFilePaths[0]," at pages\\identity\\designer-people\\designer-people.vue:255")),t.uploadFile({url:i.url+"/upload",filePath:n.tempFilePaths[0],name:"file",formData:{user:"test"},success:function(t){var n=JSON.parse(t.data);console.log(e(n.data.fileUrl," at pages\\identity\\designer-people\\designer-people.vue:265")),i.identifyBack=n.data.fileUrl}})}})},chooseImageHome:function(){var i=this;t.chooseImage({count:9,sourceType:["album"],success:function(n){n.tempFilePaths[0];console.log(e(n.tempFilePaths[0]," at pages\\identity\\designer-people\\designer-people.vue:281")),t.uploadFile({url:i.url+"/upload",filePath:n.tempFilePaths[0],name:"file",formData:{user:"test"},success:function(t){var n=JSON.parse(t.data);console.log(e(n.data.fileUrl," at pages\\identity\\designer-people\\designer-people.vue:291")),i.homeImage=n.data.fileUrl}})}})},vide:function(e,i){return""==e&&(t.showToast({title:i+"不能为空",icon:"none",duration:2e3}),!0)},submit:function(){var i,n=this.url,a=this;this.vide(a.designdarenName,"姓名")||this.vide(a.phone,"手机号")||this.vide(a.serviceAddress,"服务地区")||this.vide(a.specialityStyle,"擅长风格")||this.vide(a.priceMin,"最低价")||this.vide(a.priceMax,"最高价")||this.vide(a.homeImage,"名片或从业资格证")||this.vide(a.identifyOffice,"身份证正面")||this.vide(a.identifyBack,"身份证反面")||this.vide(a.imgList,"上传案例作品")||(t.getStorage({key:"token",success:function(e){i=e.data}}),this.imgList.length<3?t.showToast({title:"上传作品不能少于3个",icon:"none",duration:2e3}):this.imgList.length>9?t.showToast({title:"上传作品最多不能超过9个",icon:"none",duration:2e3}):11==a.phone.length?0!=this.checked?t.request({url:n+"controller/usercontroller/addappuserdesigndaren",data:{designdarenName:a.designdarenName,phone:a.phone,email:a.email,serviceAddress:a.serviceAddress,specialityStyle:a.specialityStyle,priceMax:a.priceMax,priceMin:a.priceMin,provideService:a.current,nameCard:a.homeImage,idCardJust:a.identifyOffice,idCardBack:a.identifyBack,worksUrl:a.worksUrl,caseWorks:JSON.stringify(a.imgList)},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:i},success:function(i){421==i.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"}),console.log(e(i," at pages\\identity\\designer-people\\designer-people.vue:412")),console.log(e(i.data.message," at pages\\identity\\designer-people\\designer-people.vue:413")),t.showToast({title:i.data.message,icon:"none",duration:2e3})}}):t.showToast({title:"请同意众居邦协议",icon:"none",duration:2e3}):t.showToast({title:"手机号格式不正确",icon:"none",duration:2e3}))}}};i.default=n}).call(this,t("0de9")["default"],t("6e42")["default"])},"788c":function(e,i,t){"use strict";t.r(i);var n=t("7f1d"),a=t("9459");for(var s in a)"default"!==s&&function(e){t.d(i,e,function(){return a[e]})}(s);t("86cd");var o=t("2877"),l=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,null,null);i["default"]=l.exports},"7f1d":function(e,i,t){"use strict";var n=function(){var e=this,i=e.$createElement;e._self._c},a=[];t.d(i,"a",function(){return n}),t.d(i,"b",function(){return a})},"86cd":function(e,i,t){"use strict";var n=t("eedf"),a=t.n(n);a.a},9459:function(e,i,t){"use strict";t.r(i);var n=t("65d7"),a=t.n(n);for(var s in n)"default"!==s&&function(e){t.d(i,e,function(){return n[e]})}(s);i["default"]=a.a},a1e7:function(e,i,t){"use strict";(function(e){t("19df"),t("921b");n(t("66fd"));var i=n(t("788c"));function n(e){return e&&e.__esModule?e:{default:e}}e(i.default)}).call(this,t("6e42")["createPage"])},eedf:function(e,i,t){}},[["a1e7","common/runtime","common/vendor"]]]);