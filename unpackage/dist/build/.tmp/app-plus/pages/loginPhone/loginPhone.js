(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/loginPhone/loginPhone"],{"3c72":function(e,n,o){"use strict";o.r(n);var t=o("ad57"),i=o.n(t);for(var a in t)"default"!==a&&function(e){o.d(n,e,function(){return t[e]})}(a);n["default"]=i.a},"3fda":function(e,n,o){"use strict";(function(e){o("4902"),o("921b");t(o("66fd"));var n=t(o("c8e9"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("6e42")["createPage"])},"47f5":function(e,n,o){},"7f20":function(e,n,o){"use strict";var t=function(){var e=this,n=e.$createElement;e._self._c},i=[];o.d(n,"a",function(){return t}),o.d(n,"b",function(){return i})},9137:function(e,n,o){"use strict";var t=o("47f5"),i=o.n(t);i.a},ad57:function(e,n,o){"use strict";(function(e,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){return o.e("components/m-input").then(o.bind(null,"e365"))},a={components:{mInput:i},data:function(){return{providerList:[],hasProvider:!1,account:"",password:"",positionTop:0,token:[],isActive:!1,second:60}},methods:{sendCod:function(){var n=this;if(11==this.account.length){this.isActive=!0;var o=setInterval(function(){--n.second},1e3);setTimeout(function(){clearInterval(o),n.isActive=!1,n.second=60},6e4);var i=this.account,a={phone:i,type:"2"},c=this.url;e.request({url:c+"/public/public/sendverificationcode",data:a,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(t(e," at pages\\loginPhone\\loginPhone.vue:98"))}})}else e.showToast({icon:"none",title:"请输入正确的电话号码!"})},bindLogin:function(){if(11==this.account.length){var n=this.account,o={phone:n,type:"2",code:this.password},i=this.url;e.request({url:i+"/public/public/checkverificationcode",data:o,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){console.log(t(o.data.code," at pages\\loginPhone\\loginPhone.vue:137")),"200"==o.data.code?e.request({url:i+"/controller/usercontroller/addappuser",data:{phone:n},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){console.log(t(n," at pages\\loginPhone\\loginPhone.vue:145")),e.setStorage({key:"token",data:n.data.token}),e.switchTab({url:"/pages/main/main"})}}):e.showToast({icon:"none",title:"验证码错误"})}})}else e.showToast({icon:"none",title:"请输入正确的电话号码!"})},tologinPwd:function(){e.navigateTo({url:"/pages/loginPwd/loginPwd"})},wechatbindLogin:function(){e.getProvider({service:"oauth",success:function(n){console.log(t(n.provider," at pages\\loginPhone\\loginPhone.vue:180")),~n.provider.indexOf("weixin")&&e.login({provider:"weixin",success:function(n){console.log(t("-------获取openid(unionid)-----"," at pages\\loginPhone\\loginPhone.vue:186")),console.log(t(JSON.stringify(n)," at pages\\loginPhone\\loginPhone.vue:187")),e.getUserInfo({provider:"weixin",success:function(n){console.log(t("-------获取微信用户所有-----"," at pages\\loginPhone\\loginPhone.vue:192")),console.log(t(JSON.stringify(n.userInfo)," at pages\\loginPhone\\loginPhone.vue:193")),e.navigateTo({url:"/pages/bindPhone/bindPhone"})}})}})}})},toAgreement:function(){e.navigateTo({url:"/pages/agreement/agreement"})}}};n.default=a}).call(this,o("6e42")["default"],o("0de9")["default"])},c8e9:function(e,n,o){"use strict";o.r(n);var t=o("7f20"),i=o("3c72");for(var a in i)"default"!==a&&function(e){o.d(n,e,function(){return i[e]})}(a);o("9137");var c=o("2877"),u=Object(c["a"])(i["default"],t["a"],t["b"],!1,null,null,null);n["default"]=u.exports}},[["3fda","common/runtime","common/vendor"]]]);