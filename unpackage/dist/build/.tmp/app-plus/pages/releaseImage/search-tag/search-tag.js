(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/releaseImage/search-tag/search-tag"],{"0602":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{tabType:["已添标商品","已收藏商品"],current:0,isShowAdd:!1,searchInput:"",currentImg:"",arrImage:[],tagArr:[],fileName:"",fileUrl:"",imageHeight:0,imageWidth:0,productItem:[],collectList:[],token:"",addProduct:[],showCollect:!0}},onLoad:function(e){var a=this;this.currentImg=e.index,this.fileName=e.name,this.imageHeight=e.height,this.imageWidth=e.width,t.getStorage({key:"token",success:function(t){a.token=t.data}})},onShow:function(){this.getProduct()},methods:{getProduct:function(){for(var t=this,e=this.$store.state.uploadImage,a=[],n={},o=0;o<e.length;o++){if(e[o].testArr.length<1)break;for(var r=e[o].testArr[0].allTagArr,i=0;i<r.length;i++)n[r[i].goodsId]||"product"!=r[i].type||(a.push(r[i]),n[r[i].goodsId]=!0)}t.addProduct=a},onFocus:function(){this.$mp.page.$getAppWebview().setStyle({softinputNavBar:"none"}),this.showCollect=!1},onBlur:function(){this.$mp.page.$getAppWebview().setStyle({softinputNavBar:"auto"}),this.showCollect=!0},fRandomBy:function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1);case 2:return parseInt(Math.random()*(e-t+1)+t);default:return 0}},cancel:function(){t.navigateBack({delta:1})},gainInput:function(t){""!=t.detail.value?(this.searchInput=t.detail.value,this.isShowAdd=!0,this.searchList()):this.isShowAdd=!1},goBack:function(e,a,n,o,r){a&&(this.searchInput=a);var i=getCurrentPages(),s=(i[i.length-1],i[i.length-2],{});s="product"==e?{tagName:this.searchInput,tagX:this.fRandomBy(0,225),tagY:this.fRandomBy(-76,400),type:e,fileUrl:o,price:n,goodsId:r}:{tagName:this.searchInput,tagX:this.fRandomBy(-20,300),tagY:this.fRandomBy(-76,400),type:e},this.tagArr.push(s);var c={currentImage:this.currentImg,allTagArr:this.tagArr,type:"search"};this.$store.commit("saveImage",c),t.navigateBack({delta:1})},changeProduct:function(t){this.current=t,1==t&&this.collects()},collects:function(){var e=this;t.request({url:this.url+"controller/usercontroller/getgoodslistbycollection",method:"post",data:{pageIndex:1,pageSize:20},header:{"content-type":"application/x-www-form-urlencoded",token:this.token,port:"app"},success:function(a){200==a.data.code&&(e.productItem=a.data.data.dataList),421==a.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"})}})},searchList:function(){var e=this;t.request({url:this.url+"controller/shopcontroller/getgoodslistbygoodsname",method:"post",data:{pageIndex:1,pageSize:20,goodsName:this.searchInput},header:{"content-type":"application/x-www-form-urlencoded",token:this.token,port:"app"},success:function(a){200==a.data.code&&(e.productItem=a.data.data.dataList),421==a.data.code&&t.navigateTo({url:"/pages/loginPhone/loginPhone"})}})}}};e.default=a}).call(this,a("6e42")["default"])},"2ba2":function(t,e,a){},"4e51":function(t,e,a){"use strict";(function(t){a("19df"),a("921b");n(a("66fd"));var e=n(a("925d1"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},7966:function(t,e,a){"use strict";a.r(e);var n=a("0602"),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=o.a},"925d1":function(t,e,a){"use strict";a.r(e);var n=a("c8ad"),o=a("7966");for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);a("fa67");var i=a("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},c8ad:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},fa67:function(t,e,a){"use strict";var n=a("2ba2"),o=a.n(n);o.a}},[["4e51","common/runtime","common/vendor"]]]);