(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/loginPwd/loginPwd"],{"4c52":function(e,n,o){"use strict";var t=o("898a"),a=o.n(t);a.a},5712:function(e,n,o){"use strict";(function(e,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){return o.e("components/m-input").then(o.bind(null,"4c30"))},i={components:{mInput:a},data:function(){return{providerList:[],hasProvider:!1,account:"",password:"",positionTop:0,token:[]}},methods:{close:function(){e.navigateTo({url:"/pages/main/main"})},bindLogin:function(){if(this.account.length<11)e.showToast({icon:"none",title:"请输入正确的电话号码!"});else if(this.password.length<6)e.showToast({icon:"none",title:"密码最短为 6 个字符"});else{var n=this.url,a=o("1954").sha256,i=a(this.password+"zhongjubang2019");e.request({url:n+"/controller/usercontroller/appuserlogin",data:{phone:this.account,password:i},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){console.log(t(n," at pages/loginPwd/loginPwd.vue:105")),200==n.data.code?(e.setStorage({key:"token",data:n.data.token}),e.switchTab({url:"/pages/main/main"})):e.showToast({icon:"none",title:"用户名密码错误!"})}})}},tologinPhone:function(){e.navigateTo({url:"/pages/loginPhone/loginPhone"})},toupdatePswd:function(){e.navigateTo({url:"/pages/updatePswd/updatePswd"})},toAgreement:function(){e.navigateTo({url:"/pages/agreement/agreement"})},wechatbindLogin:function(){var n=this;e.getProvider({service:"oauth",success:function(o){console.log(t(o.provider," at pages/loginPwd/loginPwd.vue:161")),~o.provider.indexOf("weixin")&&e.login({provider:"weixin",success:function(o){console.log(t("-------获取openid(unionid)-----"," at pages/loginPwd/loginPwd.vue:167")),console.log(t(JSON.stringify(o)," at pages/loginPwd/loginPwd.vue:168")),e.getUserInfo({provider:"weixin",success:function(o){console.log(t("-------获取微信用户所有-----"," at pages/loginPwd/loginPwd.vue:173")),console.log(t(JSON.stringify(o.userInfo)," at pages/loginPwd/loginPwd.vue:174"));var a=JSON.stringify(o.userInfo);a=JSON.parse(a),e.request({url:n.url+"/controller/usercontroller/weixinlogin",data:{wxToken:a.openId,nickName:a.nickName,sex:a.gender,region:a.province,head:a.avatarUrl,unionId:a.unionId},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app"},success:function(o){if(200==o.data.code){console.log(t(o.data.token," at pages/loginPwd/loginPwd.vue:191")),e.setStorage({key:"token",data:o.data.token});var a=o.data.token;console.log(t("22222"," at pages/loginPwd/loginPwd.vue:198")),e.request({url:n.url+"/controller/usercontroller/getappuser",data:{},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:a},success:function(n){console.log(t("1111"," at pages/loginPwd/loginPwd.vue:209")),console.log(t(n," at pages/loginPwd/loginPwd.vue:210")),console.log(t(n.data.data.state," at pages/loginPwd/loginPwd.vue:211")),0==n.data.data.state?e.switchTab({url:"/pages/main/main"}):e.navigateTo({url:"/pages/bindPhone/bindPhone"})}})}else console.log(t("请求异常"," at pages/loginPwd/loginPwd.vue:225"));console.log(t(o.data.code," at pages/loginPwd/loginPwd.vue:227"))}})}})}})}})}}};n.default=i}).call(this,o("6e42")["default"],o("0de9")["default"])},"898a":function(e,n,o){},a171:function(e,n,o){"use strict";o.r(n);var t=o("bdbf"),a=o("aa96");for(var i in a)"default"!==i&&function(e){o.d(n,e,function(){return a[e]})}(i);o("4c52");var l=o("2877"),s=Object(l["a"])(a["default"],t["a"],t["b"],!1,null,null,null);n["default"]=s.exports},aa96:function(e,n,o){"use strict";o.r(n);var t=o("5712"),a=o.n(t);for(var i in t)"default"!==i&&function(e){o.d(n,e,function(){return t[e]})}(i);n["default"]=a.a},acbe:function(e,n,o){"use strict";(function(e){o("0497"),o("921b");t(o("66fd"));var n=t(o("a171"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("6e42")["createPage"])},bdbf:function(e,n,o){"use strict";var t=function(){var e=this,n=e.$createElement;e._self._c},a=[];o.d(n,"a",function(){return t}),o.d(n,"b",function(){return a})}},[["acbe","common/runtime","common/vendor"]]]);