(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/account/account"],{"3fd1":function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;e._self._c},a=[];t.d(o,"a",function(){return n}),t.d(o,"b",function(){return a})},4203:function(e,o,t){"use strict";(function(e,n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,"0aab"))},c={components:{uniPopup:a},data:function(){return{show:!1,popupType:"",show1:!1,popupType1:"",type:"",wxToken:"",state:0,phone:0}},onShow:function(){var o,t=this;e.getStorage({key:"token",success:function(e){o=e.data}});var a=this.url;e.request({url:a+"/controller/usercontroller/getappuser",data:{},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:o},success:function(o){console.log(n(o.data.code," at pages/account/account.vue:86")),421==o.data.code&&e.navigateTo({url:"/pages/loginPhone/loginPhone"}),200==o.data.code?(console.log(n(o.data.data," at pages/account/account.vue:93")),console.log(n(o.data.data.wxToken," at pages/account/account.vue:94")),console.log(n(o.data.data.state," at pages/account/account.vue:95")),t.wxToken=o.data.data.wxToken,t.state=o.data.data.state,t.phone=o.data.data.phone):console.log(n("请求异常"," at pages/account/account.vue:100"))}})},methods:{wechatbindLogin:function(){var o=this;e.getProvider({service:"oauth",success:function(t){console.log(n(t.provider," at pages/account/account.vue:112")),~t.provider.indexOf("weixin")&&e.login({provider:"weixin",success:function(t){console.log(n("-------获取openid(unionid)-----"," at pages/account/account.vue:118")),console.log(n(JSON.stringify(t)," at pages/account/account.vue:119")),e.getUserInfo({provider:"weixin",success:function(t){console.log(n("-------获取微信用户所有-----"," at pages/account/account.vue:124")),console.log(n(JSON.stringify(t.userInfo)," at pages/account/account.vue:125"));var a=JSON.stringify(t.userInfo);a=JSON.parse(a),e.request({url:o.url+"/controller/usercontroller/weixinlogin",data:{wxToken:a.openId,nickName:a.nickName,sex:a.gender,region:a.province,head:a.avatarUrl,unionId:a.unionId},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app"},success:function(t){if(200==t.data.code){console.log(n(t.data.token," at pages/account/account.vue:142")),e.setStorage({key:"token",data:t.data.token});var a=t.data.token;console.log(n("22222"," at pages/account/account.vue:149")),e.request({url:o.url+"/controller/usercontroller/getappuser",data:{},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:a},success:function(o){console.log(n("1111"," at pages/account/account.vue:160")),console.log(n(o," at pages/account/account.vue:161")),console.log(n(o.data.data.state," at pages/account/account.vue:162")),0==o.data.data.state?e.navigateTo({url:"/pages/releaseVideo2/releaseVideo2"}):e.navigateTo({url:"/pages/bindPhone/bindPhone"})}})}else console.log(n("请求异常"," at pages/account/account.vue:179"));console.log(n(t.data.code," at pages/account/account.vue:181"))}})}})}})}})},goBindphone:function(){e.navigateTo({url:"/pages/bindPhone1/bindPhone1"})},togglePopup:function(e,o){switch(e){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.popupType=e,"tip"===o?this.show=!0:this.$refs[o].open()},togglePopup1:function(e,o){switch(e){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.popupType1=e,"tip"===o?this.show1=!0:this.$refs[o].open()},cancelPopup:function(e){"tip"!==e?"skip"===e&&console.log(n("1111"," at pages/account/account.vue:245")):this.show=!1},cancelPopup1:function(o){if("tip"!==o){if("skip"===o){var t;e.getStorage({key:"token",success:function(e){t=e.data}});var a=this.url,c=this.wxToken;e.request({url:a+"/controller/usercontroller/updateuserbindwx",data:{wxToken:c},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",port:"app",token:t},success:function(o){if(421==o.data.code&&e.navigateTo({url:"/pages/loginPhone/loginPhone"}),console.log(n(o.data.code," at pages/account/account.vue:285")),200==o.data.code)return console.log(n(o," at pages/account/account.vue:287")),e.showToast({title:"微信解绑成功",duration:200}),void(this.show1=!1);console.log(n("请求异常"," at pages/account/account.vue:295"))}})}}else this.show1=!1}}};o.default=c}).call(this,t("6e42")["default"],t("0de9")["default"])},"50e5":function(e,o,t){"use strict";t.r(o);var n=t("4203"),a=t.n(n);for(var c in n)"default"!==c&&function(e){t.d(o,e,function(){return n[e]})}(c);o["default"]=a.a},"535c":function(e,o,t){},5555:function(e,o,t){"use strict";t.r(o);var n=t("3fd1"),a=t("50e5");for(var c in a)"default"!==c&&function(e){t.d(o,e,function(){return a[e]})}(c);t("5812");var u=t("2877"),s=Object(u["a"])(a["default"],n["a"],n["b"],!1,null,null,null);o["default"]=s.exports},5812:function(e,o,t){"use strict";var n=t("535c"),a=t.n(n);a.a},ed03:function(e,o,t){"use strict";(function(e){t("0497"),t("921b");n(t("66fd"));var o=n(t("5555"));function n(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,t("6e42")["createPage"])}},[["ed03","common/runtime","common/vendor"]]]);